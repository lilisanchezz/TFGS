import{t as Z,r as q,c as R,a as M,i as Q,w as F,g as K,o as $,u as ee,_ as N,b as S,d as k,e as x,f as te,v as ne,p as _,h as V,j as ae,k as oe,l as z,m as W,n as se}from"./index-Mi9S09at.js";const ce="data:image/jpeg;base64,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";function G(n){return K()?($(n),!0):!1}function O(n){return typeof n=="function"?n():ee(n)}const g=typeof window<"u"&&typeof document<"u",le=typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope,re=Object.prototype.toString,ie=n=>re.call(n)==="[object Object]",U=()=>{};function ue(...n){if(n.length!==1)return Z(...n);const e=n[0];return typeof e=="function"?q(R(()=>({get:e,set:U}))):M(e)}function fe(n,e=1e3,s={}){const{immediate:i=!0,immediateCallback:r=!1}=s;let o=null;const a=M(!1);function u(){o&&(clearInterval(o),o=null)}function A(){a.value=!1,u()}function l(){const t=O(e);t<=0||(a.value=!0,r&&n(),u(),o=setInterval(n,t))}if(i&&g&&l(),Q(e)||typeof e=="function"){const t=F(e,()=>{a.value&&g&&l()});G(t)}return G(A),{isActive:a,pause:A,resume:l}}function de(n){var e;const s=O(n);return(e=s==null?void 0:s.$el)!=null?e:s}const xe=g?window:void 0;function Ae(...n){let e,s,i,r;if(typeof n[0]=="string"||Array.isArray(n[0])?([s,i,r]=n,e=xe):[e,s,i,r]=n,!e)return U;Array.isArray(s)||(s=[s]),Array.isArray(i)||(i=[i]);const o=[],a=()=>{o.forEach(t=>t()),o.length=0},u=(t,c,p,v)=>(t.addEventListener(c,p,v),()=>t.removeEventListener(c,p,v)),A=F(()=>[de(e),O(r)],([t,c])=>{if(a(),!t)return;const p=ie(c)?{...c}:c;o.push(...s.flatMap(v=>i.map(f=>u(t,v,f,p))))},{immediate:!0,flush:"post"}),l=()=>{A(),a()};return G(l),l}const J="ping";function P(n){return n===!0?{}:n}function ve(n,e={}){const{onConnected:s,onDisconnected:i,onError:r,onMessage:o,immediate:a=!0,autoClose:u=!0,protocols:A=[]}=e,l=M(null),t=M("CLOSED"),c=M(),p=ue(n);let v,f,Y=!1,b=0,y=[],X;const T=()=>{if(y.length&&c.value&&t.value==="OPEN"){for(const d of y)c.value.send(d);y=[]}},I=()=>{clearTimeout(X),X=void 0},w=(d=1e3,m)=>{!g||!c.value||(Y=!0,I(),v==null||v(),c.value.close(d,m),c.value=void 0)},C=(d,m=!0)=>!c.value||t.value!=="OPEN"?(m&&y.push(d),!1):(T(),c.value.send(d),!0),L=()=>{if(Y||typeof p.value>"u")return;const d=new WebSocket(p.value,A);c.value=d,t.value="CONNECTING",d.onopen=()=>{t.value="OPEN",s==null||s(d),f==null||f(),T()},d.onclose=m=>{if(t.value="CLOSED",i==null||i(d,m),!Y&&e.autoReconnect){const{retries:h=-1,delay:D=1e3,onFailed:j}=P(e.autoReconnect);b+=1,typeof h=="number"&&(h<0||b<h)||typeof h=="function"&&h()?setTimeout(L,D):j==null||j()}},d.onerror=m=>{r==null||r(d,m)},d.onmessage=m=>{if(e.heartbeat){I();const{message:h=J}=P(e.heartbeat);if(m.data===h)return}l.value=m.data,o==null||o(d,m)}};if(e.heartbeat){const{message:d=J,interval:m=1e3,pongTimeout:h=1e3}=P(e.heartbeat),{pause:D,resume:j}=fe(()=>{C(d,!1),X==null&&(X=setTimeout(()=>{w(),Y=!1},h))},m,{immediate:!1});v=D,f=j}u&&(g&&Ae("beforeunload",()=>w()),G(w));const E=()=>{!g&&!le||(w(),Y=!1,b=0,L())};return a&&E(),{data:l,status:t,close:w,send:C,open:E,ws:c}}const B=n=>(_("data-v-9eadf0ac"),n=n(),V(),n),me={class:"chat-container"},Me=B(()=>x("div",{class:"chat-header"},"Chat",-1)),pe=B(()=>x("div",{id:"chat-box",class:"chat-messages"},null,-1)),he=B(()=>x("button",{type:"submit"},"Enviar",-1)),Ye={__name:"Chat",setup(n){const e=M(""),{send:s,status:i,data:r}=ve("ws://localhost:3001",{autoReconnect:{retries:3,delay:1e3,onFailed(){alert("Failed to connect WebSocket after 3 retries")}}});F(r,u=>{u&&a(JSON.parse(u).message)},{immediate:!0});const o=u=>{u.preventDefault(),i.value==="OPEN"?(e.value&&(console.log("front mgs",e.value),s(JSON.stringify({message:e.value}))),e.value=""):console.error("No se pudo enviar el mensaje. WebSocket no está conectado.")},a=u=>{const A=document.getElementById("chat-box"),l=document.createElement("p");l.textContent=u,A.appendChild(l)};return(u,A)=>(S(),k("div",me,[Me,pe,x("form",{onSubmit:o,class:"chat-input"},[te(x("input",{type:"text","onUpdate:modelValue":A[0]||(A[0]=l=>e.value=l),placeholder:"Escribe un mensaje..."},null,512),[[ne,e.value]]),he],32)]))}},ge=N(Ye,[["__scopeId","data-v-9eadf0ac"]]),we={class:"wrapper"},ye=oe('<header class="header"><p class="current-date">February 2024</p><div class="icons"><span class="material-symbols-outlined">chevron_left</span><span class="material-symbols-outlined">chevron_right</span></div></header><div class="calendar"><ul class="weeks"><li>Mon</li><li>Tue</li><li>Wed</li><li>Thu</li><li>Fri</li><li>Sat</li><li>Sun</li></ul><ul class="days"></ul></div>',2),Xe=[ye],De={__name:"Calendar",setup(n){return ae(()=>{const e=document.querySelector(".current-date"),s=document.querySelector(".days"),i=document.querySelectorAll(".icons span");console.log(e,s,i);let r=new Date,o=r.getFullYear(),a=r.getMonth();const u=["January","February","March","April","May","June","July","August","September","October","November","December"],A=()=>{let l=new Date(o,a,1).getDay(),t=new Date(o,a+1,0).getDate(),c=new Date(o,a,t).getDay(),p=new Date(o,a,0).getDate(),v="";for(let f=l;f>0;f--)v+=`<li class="inactive">${p-f+1}</li>`;for(let f=1;f<=t;f++){let Y=f===r.getDate()&&a===new Date().getMonth()&&o===new Date().getFullYear()?"active":"";v+=`<li class="${Y}" >${f}</li>`}for(let f=c;f<6;f++)v+=`<li class="inactive">${f-c+1}</li>`;e.innerHTML=`${u[a]} ${o}`,s.innerHTML=v};A(),i.forEach(l=>{l.addEventListener("click",()=>{a=l.textContent==="chevron_left"?a-1:a+1,a<0||a>11?(r=new Date(o,a),o=r.getFullYear(),a=r.getMonth()):r=new Date,A()})})}),(e,s)=>(S(),k("div",we,Xe))}},H=n=>(_("data-v-ef19999f"),n=n(),V(),n),je={class:"about"},Ge={class:"datos"},be=H(()=>x("h1",{class:"titulo"},"Perfil",-1)),Le=H(()=>x("img",{class:"profile",src:ce,alt:"Foto de perfil"},null,-1)),ze={class:"apps"},Pe={class:"descripcion"},Fe=H(()=>x("h2",null,"Descripción:",-1)),Se=["contenteditable"],ke={__name:"ProfileView",setup(n){const e=M(""),s=M(""),i=M(""),r=sessionStorage.getItem("loged"),o=M("false");r&&(o.value="true"),console.log(o);async function a(){try{const t=await se({method:"get",url:`http://localhost:3000/user/email/${s.value}`,withCredentials:!1});console.log(t),t.data.profe==="false"?window.location.href="https://class-connect.whereby.com/class-connectbaeb8fc1-f7c4-475a-95cb-387bb2b5cd98":window.location.href="https://class-connect.whereby.com/class-connectbaeb8fc1-f7c4-475a-95cb-387bb2b5cd98?roomKey=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJtZWV0aW5nSWQiOiI4MzIyMDQ0NCIsInJvb21SZWZlcmVuY2UiOnsicm9vbU5hbWUiOiIvY2xhc3MtY29ubmVjdGJhZWI4ZmMxLWY3YzQtNDc1YS05NWNiLTM4N2JiMmI1Y2Q5OCIsIm9yZ2FuaXphdGlvbklkIjoiMjE0MTIxIn0sImlzcyI6Imh0dHBzOi8vYWNjb3VudHMuc3J2LndoZXJlYnkuY29tIiwiaWF0IjoxNzA4OTUxNDg0LCJyb29tS2V5VHlwZSI6Im1lZXRpbmdIb3N0In0.RljB0Pu_FaTKlgyDazLcplfTU_BTEDMPl-sloFgiqQ0"}catch(t){console.error(t)}}function u(){const t=document.getElementById("texto").textContent;fetch(`http://localhost:3000/user/id/${l}`,{method:"PUT",body:new URLSearchParams({description:t}).toString(),headers:{"Content-Type":"application/x-www-form-urlencoded",Authorization:localStorage.getItem("token")}}).then(c=>{if(console.log(c.ok),c.ok)return c.text();throw new Error}).catch(c=>{alert("Error al actualitzar el text")})}const l=(t=>JSON.parse(atob(t.split(/\./)[1])))(localStorage.getItem("token")).id;return fetch(`http://localhost:3000/user/id/${l}`).then(t=>t.json()).then(t=>{e.value=t.name,s.value=t.email,i.value=t.description??""}),(t,c)=>(S(),k("div",je,[x("div",Ge,[be,Le,x("p",null,"Username: "+z(e.value),1),x("p",null,"Gmail: "+z(s.value),1),x("button",{onClick:a,class:"onlineClass"},"Ir a Clase")]),x("div",ze,[W(ge),W(De)]),x("div",Pe,[Fe,x("p",{class:"texto",id:"texto",contenteditable:o.value},z(i.value),9,Se),x("button",{onClick:u,class:"saveChanges"},"Guardar Cambios")])]))}},Be=N(ke,[["__scopeId","data-v-ef19999f"]]);export{Be as default};
